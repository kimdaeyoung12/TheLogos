<!DOCTYPE html>
<html class="dark" lang="{{ or site.Language.LanguageCode site.Language.Lang }}"
    dir="{{ or site.Language.LanguageDirection " ltr" }}">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    {{- if hugo.IsProduction | or (eq site.Params.env "production") }}
    <meta name="robots" content="index, follow">
    {{- else }}
    <meta name="robots" content="noindex, nofollow">
    {{- end }}

    <title>{{- $title := cond .IsHome site.Title (printf "%s | %s" .Title site.Title) -}}{{- $title -}}</title>

    {{- /* Tailwind and Global Design Config */}}
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "design-primary": "#135bec",
                        "design-background-light": "#f6f6f8",
                        "design-background-dark": "#101622",
                        "design-card-dark": "#1c1f27",
                        "design-text-subtle": "#9da6b9",
                    },
                    fontFamily: {
                        "display": ["Work Sans", "Noto Sans", "sans-serif"],
                        "serif-title": ["Noto Serif", "serif"]
                    },
                    animation: {
                        'float-slow': 'float 8s ease-in-out infinite',
                        'float-reverse': 'float-reverse 10s ease-in-out infinite',
                        'spin-slow': 'spin 15s linear infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateY(-20px) rotate(5deg)' },
                        },
                        'float-reverse': {
                            '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateY(20px) rotate(-5deg)' },
                        }
                    }
                },
            },
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
        href="https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet" />

    {{- /* Meta & Canonical */}}
    <meta name="description"
        content="{{- if .Description }}{{ .Description }}{{- else if .IsPage }}{{ .Summary | plainify | truncate 160 }}{{- else }}{{ site.Params.description }}{{- end -}}">
    <meta name="author" content="{{ (partial " author.html" . ) }}">
    <link rel="canonical"
        href="{{ if .Params.canonicalURL -}} {{ trim .Params.canonicalURL " " }} {{- else -}} {{ .Permalink }} {{- end }}">

    {{- /* Favicons & RSS */}}
    {{- if site.Params.assets.favicon }}
    <link rel="icon" href="{{ site.Params.assets.favicon | absURL }}">
    {{- else }}
    <link rel="icon" href="{{ " favicon.ico" | absURL }}">
    {{- end }}
    {{- with site.OutputFormats.Get "rss" }}
    <link rel="{{ .Rel }}" type="{{ .MediaType }}" href="{{ .Permalink }}" title="{{ site.Title }}">
    {{- end }}

    {{- /* Analytics */}}
    {{- template "_internal/google_analytics.html" . }}
    {{- partial "extend_head.html" . }}
</head>

<body
    class="bg-design-background-light dark:bg-design-background-dark font-display text-gray-900 dark:text-white antialiased overflow-x-hidden list"
    id="top">

    {{- partial "header.html" . }}

    <main class="main">
        {{- block "main" . }}{{- end }}
    </main>

    {{- partial "footer_design.html" . }}
    {{- partial "music-player.html" . }}

    {{- /* Logic to handle 3D tilt if needed globally */}}
    {{- $tilt := resources.Get "js/tilt-3d.js" | fingerprint }}
    <script src="{{ $tilt.Permalink }}"></script>

    {{- /* Soft Navigation */}}
    {{- $soft_nav := resources.Get "js/soft-navigation.js" | fingerprint }}
    <script src="{{ $soft_nav.Permalink }}" integrity="{{ $soft_nav.Data.Integrity }}"></script>

    {{- partial "extend_footer.html" . }}

</body>

</html>