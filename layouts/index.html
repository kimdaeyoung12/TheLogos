{{ define "main" }}
<section class="hero-section">
    <div id="canvas-container"></div>
    <div class="hero-bg-animation"></div>
    <div class="hero-container">
        <div class="hero-content glass-card">
            <h1 class="hero-title">
                <span class="title-main">The Logos</span>
                <span class="title-divider">✦</span>
            </h1>
            <p class="hero-subtitle"><span class="ancient-text">Ἐν ἀρχῇ ἦν ὁ λόγος</span> — 태초에 말씀이 계시니라</p>
            <div class="hero-description">
                <p>질서를 만들고 세상을 의미 있게 변화시키는 자만이 살아있는 자다.</p>
                <p>과학의 언어로 신앙을 읽고, 신앙의 눈으로 기술을 바라봅니다.</p>
            </div>
            <div class="hero-actions">
                <a href="/about/" class="button button-primary">
                    <span>소개</span>
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2"
                        aria-hidden="true">
                        <path d="M13 7l5 5m0 0l-5 5m5-5H6" />
                    </svg>
                </a>
                <a href="/posts/" class="button button-secondary">
                    <span>글 목록</span>
                </a>
            </div>
        </div>
    </div>
</section>

<div class="sections-container">
    <!-- Religion Section -->
    <section class="category-section" id="section-religion">
        <div class="category-container">
            <div class="category-header-3d">
                <div class="monolith-plate">
                    <div class="icon-layer">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 2v20"></path>
                            <path d="M7 8h10"></path>
                        </svg>
                    </div>
                    <h2 class="title-layer">Religion</h2>
                    <p class="subtitle-layer">Truth & Faith</p>
                </div>
                <div class="depth-layer-back"></div>
            </div>
            <div class="category-posts-grid">
                {{ range first 3 (where .Site.RegularPages "Params.categories" "intersect" (slice "religion")) }}
                <a href="{{ .RelPermalink }}" class="post-card-3d">
                    <span class="post-card-date">{{ .Date.Format "Jan 2, 2006" }}</span>
                    <h3 class="post-card-title">{{ .Title }}</h3>
                    <p class="post-card-excerpt">{{ .Summary | plainify | truncate 120 }}</p>
                </a>
                {{ end }}
            </div>
        </div>
    </section>

    <!-- Philosophy Section -->
    <section class="category-section" id="section-philosophy">
        <div class="category-container">
            <div class="category-header-3d">
                <div class="monolith-plate">
                    <div class="icon-layer">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M15 14c.2-1 .7-1.7 1.5-2.5 1-1 1.5-2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5">
                            </path>
                            <path d="M9 18h6"></path>
                            <path d="M10 22h4"></path>
                        </svg>
                    </div>
                    <h2 class="title-layer">Philosophy</h2>
                    <p class="subtitle-layer">Reason & Being</p>
                </div>
                <div class="depth-layer-back"></div>
            </div>
            <div class="category-posts-grid">
                {{ range first 3 (where .Site.RegularPages "Params.categories" "intersect" (slice "philosophy")) }}
                <a href="{{ .RelPermalink }}" class="post-card-3d">
                    <span class="post-card-date">{{ .Date.Format "Jan 2, 2006" }}</span>
                    <h3 class="post-card-title">{{ .Title }}</h3>
                    <p class="post-card-excerpt">{{ .Summary | plainify | truncate 120 }}</p>
                </a>
                {{ end }}
            </div>
        </div>
    </section>

    <!-- Engineering Section -->
    <section class="category-section" id="section-engineering">
        <div class="category-container">
            <div class="category-header-3d">
                <div class="monolith-plate">
                    <div class="icon-layer">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect>
                            <rect x="9" y="9" width="6" height="6"></rect>
                            <line x1="9" y1="1" x2="9" y2="4"></line>
                            <line x1="15" y1="1" x2="15" y2="4"></line>
                            <line x1="9" y1="20" x2="9" y2="23"></line>
                            <line x1="15" y1="20" x2="15" y2="23"></line>
                            <line x1="20" y1="9" x2="23" y2="9"></line>
                            <line x1="20" y1="15" x2="23" y2="15"></line>
                            <line x1="1" y1="9" x2="4" y2="9"></line>
                            <line x1="1" y1="15" x2="4" y2="15"></line>
                        </svg>
                    </div>
                    <h2 class="title-layer">Engineering</h2>
                    <p class="subtitle-layer">Logic & System</p>
                </div>
                <div class="depth-layer-back"></div>
            </div>
            <div class="category-posts-grid">
                {{ range first 3 (where .Site.RegularPages "Params.categories" "intersect" (slice "engineering")) }}
                <a href="{{ .RelPermalink }}" class="post-card-3d">
                    <span class="post-card-date">{{ .Date.Format "Jan 2, 2006" }}</span>
                    <h3 class="post-card-title">{{ .Title }}</h3>
                    <p class="post-card-excerpt">{{ .Summary | plainify | truncate 120 }}</p>
                </a>
                {{ end }}
            </div>
        </div>
    </section>

    <!-- Writing Section -->
    <section class="category-section" id="section-writing">
        <div class="category-container">
            <div class="category-header-3d">
                <div class="monolith-plate">
                    <div class="icon-layer">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path>
                            <line x1="16" y1="8" x2="2" y2="22"></line>
                            <line x1="17.5" y1="15" x2="9" y2="15"></line>
                        </svg>
                    </div>
                    <h2 class="title-layer">Writing</h2>
                    <p class="subtitle-layer">Record & Memory</p>
                </div>
                <div class="depth-layer-back"></div>
            </div>
            <div class="category-posts-grid">
                {{ range first 3 (where .Site.RegularPages "Params.categories" "intersect" (slice "writing")) }}
                <a href="{{ .RelPermalink }}" class="post-card-3d">
                    <span class="post-card-date">{{ .Date.Format "Jan 2, 2006" }}</span>
                    <h3 class="post-card-title">{{ .Title }}</h3>
                    <p class="post-card-excerpt">{{ .Summary | plainify | truncate 120 }}</p>
                </a>
                {{ end }}
            </div>
        </div>
    </section>
</div>

{{- /* Include Home CSS */ -}}
{{- $home_css := resources.Get "css/home.css" | minify | fingerprint -}}
<link rel="stylesheet" href="{{ $home_css.Permalink }}" integrity="{{ $home_css.Data.Integrity }}">

{{- /* Include 3D Layout CSS */ -}}
{{- $layout_css := resources.Get "css/home-3d-layout.css" | minify | fingerprint -}}
<link rel="stylesheet" href="{{ $layout_css.Permalink }}" integrity="{{ $layout_css.Data.Integrity }}">

{{- /* Load 3D Hero Script */ -}}
{{- $hero_js := resources.Get "js/hero-3d.js" | fingerprint -}}
<script type="module" src="{{ $hero_js.Permalink }}" integrity="{{ $hero_js.Data.Integrity }}"></script>

{{- /* Load 3D Tilt Script */ -}}
{{- $tilt_js := resources.Get "js/tilt-3d.js" | fingerprint -}}
<script src="{{ $tilt_js.Permalink }}" integrity="{{ $tilt_js.Data.Integrity }}"></script>

<!-- Parallax Script for Monoliths -->
<script>
    document.addEventListener('mousemove', (e) => {
        const headers = document.querySelectorAll('.category-header-3d');
        const x = (e.clientX / window.innerWidth - 0.5) * 20; // -10 to 10 deg
        const y = (e.clientY / window.innerHeight - 0.5) * 20;

        headers.forEach(header => {
            const rect = header.getBoundingClientRect();
            if (rect.top < window.innerHeight && rect.bottom > 0) {
                // Apply subtle tilt
                header.style.transform = `perspective(1000px) rotateY(${x * 0.5}deg) rotateX(${-y * 0.5}deg)`;
            }
        });
    });
</script>
{{ end }}