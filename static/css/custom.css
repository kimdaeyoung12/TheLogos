/* static/css/custom.css - 영역별 배경색 대비 최적화 */

/* ========================================
   PaperMod 테마 배경색 분석
   
   [다크모드]
   - 헤더/네비: #1e293b (더 진한 남색)
   - 본문 배경: #0f172a ~ #1a202c (매우 진한 남색)
   - 카드 배경: #1e293b (진한 남색)
   
   [라이트모드]
   - 헤더/네비: #ffffff (흰색)
   - 본문 배경: #f8fafc (연한 회색)
   - 카드 배경: #ffffff (흰색)
   ======================================== */

/* ========================================
   헤더/네비게이션 영역 (별도 배경)
   ======================================== */

/* 다크모드 헤더 - 배경: #1e293b */
.dark .header,
.dark header {
    background-color: #1e293b !important;
}

.dark .header a,
.dark .header .logo,
.dark .header .logo a,
.dark .header #menu a,
.dark header nav a {
    color: #f1f5f9 !important; /* 밝은 회색 */
    text-decoration: none !important;
}

.dark .header a:hover,
.dark .header #menu a:hover,
.dark header nav a:hover {
    color: #ffffff !important; /* 호버시 완전 흰색 */
    opacity: 1 !important;
}

.dark #theme-toggle {
    color: #f1f5f9 !important;
}

/* 라이트모드 헤더 - 배경: #ffffff */
body:not(.dark) .header,
body:not(.dark) header {
    background-color: #ffffff !important;
    border-bottom: 1px solid #e2e8f0 !important;
}

body:not(.dark) .header a,
body:not(.dark) .header .logo,
body:not(.dark) .header .logo a,
body:not(.dark) .header #menu a,
body:not(.dark) header nav a {
    color: #0f172a !important; /* 매우 진한 남색 */
    text-decoration: none !important;
}

body:not(.dark) .header a:hover,
body:not(.dark) .header #menu a:hover,
body:not(.dark) header nav a:hover {
    color: #020617 !important; /* 호버시 거의 검정 */
    opacity: 1 !important;
}

body:not(.dark) #theme-toggle {
    color: #0f172a !important;
}

/* ========================================
   메인 콘텐츠 영역 (본문 배경)
   ======================================== */

/* 다크모드 본문 - 배경: #0f172a (매우 진한) */
.dark main,
.dark .main {
    background-color: #0f172a !important;
}

/* 다크모드 포스트 카드 - 배경: #1e293b */
.dark .post-entry,
.dark .first-entry,
.dark article {
    background-color: #1e293b !important;
}

/* 다크모드 본문 텍스트 (어두운 배경에 맞춤) */
.dark .main h1,
.dark .main h2,
.dark .main h3,
.dark .entry-header h2,
.dark .entry-header h2 a,
.dark .post-title,
.dark .post-title a {
    color: #f8fafc !important; /* 거의 흰색 */
    font-weight: 600 !important;
}

.dark .main p,
.dark .post-content,
.dark .entry-content,
.dark article p {
    color: #cbd5e1 !important; /* 밝은 회색 */
    line-height: 1.7 !important;
}

.dark .post-meta,
.dark .entry-footer,
.dark time,
.dark .reading-time {
    color: #94a3b8 !important; /* 중간 밝기 */
}

/* 라이트모드 본문 - 배경: #f8fafc (연한 회색) */
body:not(.dark) main,
body:not(.dark) .main {
    background-color: #f8fafc !important;
}

/* 라이트모드 포스트 카드 - 배경: #ffffff */
body:not(.dark) .post-entry,
body:not(.dark) .first-entry,
body:not(.dark) article {
    background-color: #ffffff !important;
    border: 1px solid #e2e8f0 !important;
}

/* 라이트모드 본문 텍스트 (밝은 배경에 맞춤) */
body:not(.dark) .main h1,
body:not(.dark) .main h2,
body:not(.dark) .main h3,
body:not(.dark) .entry-header h2,
body:not(.dark) .entry-header h2 a,
body:not(.dark) .post-title,
body:not(.dark) .post-title a {
    color: #020617 !important; /* 거의 검정 */
    font-weight: 700 !important;
}

body:not(.dark) .main p,
body:not(.dark) .post-content,
body:not(.dark) .entry-content,
body:not(.dark) article p {
    color: #1e293b !important; /* 진한 남회색 */
    line-height: 1.7 !important;
}

body:not(.dark) .post-meta,
body:not(.dark) .entry-footer,
body:not(.dark) time,
body:not(.dark) .reading-time {
    color: #64748b !important; /* 중간 회색 */
}

/* ========================================
   링크 색상 (모든 영역 공통)
   ======================================== */

/* 다크모드 링크 */
.dark a:not(.header a):not(#menu a),
.dark a:not(.header a):not(#menu a):visited {
    color: #60a5fa !important; /* 밝은 파란색 */
}

.dark a:not(.header a):not(#menu a):hover {
    color: #93c5fd !important; /* 더 밝은 파란색 */
}

/* 라이트모드 링크 */
body:not(.dark) a:not(.header a):not(#menu a),
body:not(.dark) a:not(.header a):not(#menu a):visited {
    color: #2563eb !important; /* 진한 파란색 */
}

body:not(.dark) a:not(.header a):not(#menu a):hover {
    color: #1d4ed8 !important; /* 더 진한 파란색 */
}

/* ========================================
   특수 요소들
   ======================================== */

/* Draft 뱃지 */
.entry-hint {
    padding: 4px 8px !important;
    border-radius: 4px !important;
    font-weight: 600 !important;
}

body:not(.dark) .entry-hint {
    background-color: #fee2e2 !important;
    color: #dc2626 !important;
    border: 1px solid #fca5a5 !important;
}

.dark .entry-hint {
    background-color: rgba(220, 38, 38, 0.2) !important;
    color: #fca5a5 !important;
    border: 1px solid #f87171 !important;
}

/* 카테고리/태그 뱃지 */
.dark .post-tag,
.dark .tag-entry {
    background-color: rgba(148, 163, 184, 0.15) !important;
    color: #e2e8f0 !important;
    border: 1px solid rgba(226, 232, 240, 0.3) !important;
}

body:not(.dark) .post-tag,
body:not(.dark) .tag-entry {
    background-color: rgba(100, 116, 139, 0.1) !important;
    color: #334155 !important;
    border: 1px solid rgba(51, 65, 85, 0.2) !important;
}

/* ========================================
   모바일 특별 대응
   ======================================== */

@media (max-width: 768px) {
    /* 모바일 다크모드 헤더 */
    .dark .header,
    .dark .header * {
        color: #f1f5f9 !important;
    }
    
    /* 모바일 다크모드 본문 제목 - 더 밝게 */
    .dark .main h1,
    .dark .main h2,
    .dark .main h3,
    .dark .entry-header h2,
    .dark .entry-header h2 a,
    .dark .post-title,
    .dark .post-title a {
        color: #ffffff !important;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
    }
    
    /* 모바일 다크모드 본문 텍스트 - 더 밝게 */
    .dark .main p,
    .dark .post-content,
    .dark .entry-content {
        color: #e2e8f0 !important;
    }
    
    /* 모바일 라이트모드 헤더 */
    body:not(.dark) .header,
    body:not(.dark) .header * {
        color: #0f172a !important;
    }
    
    /* 모바일 라이트모드 본문 제목 - 더 진하게 */
    body:not(.dark) .main h1,
    body:not(.dark) .main h2,
    body:not(.dark) .main h3,
    body:not(.dark) .entry-header h2,
    body:not(.dark) .entry-header h2 a,
    body:not(.dark) .post-title,
    body:not(.dark) .post-title a {
        color: #000000 !important;
        font-weight: 700 !important;
    }
    
    /* 모바일 라이트모드 본문 텍스트 - 더 진하게 */
    body:not(.dark) .main p,
    body:not(.dark) .post-content,
    body:not(.dark) .entry-content {
        color: #0f172a !important;
    }
}

/* ========================================
   활성 메뉴 아이템 표시
   ======================================== */

#menu .active {
    font-weight: 600 !important;
    position: relative !important;
}

.dark #menu .active {
    color: #ffffff !important;
}

body:not(.dark) #menu .active {
    color: #020617 !important;
}

#menu .active::after {
    content: '' !important;
    position: absolute !important;
    bottom: -3px !important;
    left: 0 !important;
    right: 0 !important;
    height: 2px !important;
    background-color: currentColor !important;
}

/* ========================================
   푸터 영역 (있는 경우)
   ======================================== */

.dark footer {
    background-color: #0f172a !important;
    color: #94a3b8 !important;
}

body:not(.dark) footer {
    background-color: #f1f5f9 !important;
    color: #64748b !important;
}

.dark footer a {
    color: #60a5fa !important;
}

body:not(.dark) footer a {
    color: #2563eb !important;
}
