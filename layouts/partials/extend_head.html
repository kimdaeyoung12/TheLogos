<!-- Additional head elements and metadata for TheLogos -->

<!-- Define document language explicitly for accessibility -->
<meta http-equiv="content-language" content="ko">

<!-- Content Security Policy -->
<meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.googletagmanager.com https://plausible.io https://busuanzi.ibruce.info https://cdn.jsdelivr.net https://www.instagram.com https://cdn.skypack.dev https://cdnjs.cloudflare.com https://unpkg.com https://cdn.tailwindcss.com https://*.kit.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdn.jsdelivr.net https://*.kit.com; font-src 'self' data: https://fonts.gstatic.com https://cdn.jsdelivr.net; img-src 'self' data: https://*.instagram.com https://*.cdninstagram.com https://i.ytimg.com https://lh3.googleusercontent.com https://*.kit.com; frame-src https://*.instagram.com https://www.youtube.com https://www.youtube-nocookie.com https://*.kit.com; connect-src 'self' https://www.google-analytics.com https://plausible.io https://busuanzi.ibruce.info https://cdn.skypack.dev https://cdnjs.cloudflare.com https://unpkg.com https://*.kit.com https://app.kit.com;">

<!-- Preload custom stylesheets to improve performance -->
<!-- Load Tailwind first -->
<link rel="stylesheet" href="/css/tailwind.css">
<!-- Custom CSS removed as it is missing/404 -->


<!-- Google Analytics 4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SST2KJKDK4"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-SST2KJKDK4');
</script>

<!-- Open Graph Meta Tags for Social Sharing & AI Crawlers -->
{{- $title := cond .IsHome site.Title (printf "%s | %s" .Title site.Title) -}}
{{- $description := .Description | default .Params.description | default (.Summary | plainify | truncate 200) | default
site.Params.description -}}
{{- $image := .Params.image | default .Params.featuredImage | default "/images/og-default.png" | absURL -}}
{{- $url := .Permalink -}}

<meta property="og:type" content="{{ cond .IsHome " website" "article" }}">
<meta property="og:title" content="{{ $title }}">
<meta property="og:description" content="{{ $description }}">
<meta property="og:url" content="{{ $url }}">
<meta property="og:image" content="{{ $image }}">
<meta property="og:site_name" content="{{ site.Title }}">
<meta property="og:locale" content="{{ site.LanguageCode | default " ko_KR" }}">
{{- if eq .Kind "page" }}
<meta property="article:published_time" content="{{ .PublishDate.Format " 2006-01-02T15:04:05Z07:00" }}">
<meta property="article:modified_time" content="{{ .Lastmod.Format " 2006-01-02T15:04:05Z07:00" }}">
{{- with .Params.author }}
<meta property="article:author" content="{{ . }}">
{{- end }}
{{- with .Params.categories }}
{{- range . }}
<meta property="article:section" content="{{ . }}">
{{- end }}
{{- end }}
{{- with .Params.tags }}
{{- range . }}
<meta property="article:tag" content="{{ . }}">
{{- end }}
{{- end }}
{{- end }}

<!-- Twitter Card Meta Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ $title }}">
<meta name="twitter:description" content="{{ $description }}">
<meta name="twitter:image" content="{{ $image }}">

<!-- AI Bot Hints -->
<meta name="ai-content-type" content="{{ cond .IsHome " homepage" (cond (eq .Kind "page" ) "article" "list" ) }}">
{{- with .Params.categories }}
<meta name="ai-category" content="{{ delimit . " , " }}">
{{- end }}
{{- with .Params.mentions }}
<meta name="ai-mentions" content="{{ delimit . " , " }}">
{{- end }}

<!-- KaTeX Math Rendering -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js" crossorigin="anonymous"
    onload="renderMathInElement(document.body, {
        delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false}
        ],
        throwOnError: false
    });"></script>

<!-- Inject FAQ structured data if defined in the page front matter -->
{{ partial "seo-faq.html" . }}