<!DOCTYPE html>
<html lang="{{ with site.Language }}{{ .Lang }}{{ else }}{{ site.LanguageCode | default " en" }}{{ end }}" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {{- $title := cond .IsHome site.Title (printf "%s | %s" .Title site.Title) -}}
    <title>{{ $title }}</title>
    {{- $description := .Description -}}
    {{- if not $description }}
    {{- with .Params.description }}{{ $description = . }}{{ end }}
    {{- end -}}
    {{- if not $description }}
    {{- with site.Params.description }}{{ $description = . }}{{ end }}
    {{- end -}}
    {{- if and (not $description) (eq .Kind "page") }}
    {{- $description = .Summary }}
    {{- end -}}
    {{- if $description }}
    <meta name="description" content="{{ $description }}">
    {{- end }}
    {{- if or .Params.draft .Params.noindex }}
    <meta name="robots" content="noindex, nofollow">
    {{- else }}
    <meta name="robots" content="index, follow">
    {{- end }}
    <link rel="canonical" href="{{ .Permalink }}">
    <link rel="icon" href="{{ " favicon.ico" | absURL }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ " favicon-16x16.png" | absURL }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ " favicon-32x32.png" | absURL }}">
    <link rel="apple-touch-icon" href="{{ " apple-touch-icon.png" | absURL }}">
    <meta name="theme-color" content="#2e2e33">
    <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <!-- Noto Serif KR for philosophical body text -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;500;700&display=swap" rel="stylesheet">
    {{- $custom_css := resources.Get "css/main.css" | minify | fingerprint -}}
    <link rel="stylesheet" href="{{ $custom_css.RelPermalink }}" integrity="{{ $custom_css.Data.Integrity }}">
    {{ partial "extend_head.html" . }}
    {{ block "head" . }}{{ end }}
</head>

<body>
    {{ partial "header.html" . }}
    <main id="main-content">
        {{ block "main" . }}{{ end }}
    </main>
    {{ partial "extend_footer.html" . }}
</body>

</html>